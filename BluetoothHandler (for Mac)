import java.io.IOException;
import java.io.InputStream;
import java.io.OutputStream;
import java.util.logging.Level;
import java.util.logging.Logger;
import javax.bluetooth.DeviceClass;
import javax.bluetooth.DiscoveryAgent;
import javax.bluetooth.DiscoveryListener;
import javax.bluetooth.LocalDevice;
import javax.bluetooth.RemoteDevice;
import javax.bluetooth.ServiceRecord;
import javax.bluetooth.UUID;
import javax.microedition.io.Connector;
import javax.microedition.io.StreamConnection;

public class BluetoothHandler {
    boolean scanFinished = false;
    String piURL = "btspp://201610094738:1;authenticate=false;encrypt=false;master=false"; //Replace this with your bluetooth URL
    
    public BluetoothHandler()
    {
    }

    public void open() throws Exception
    {
        StreamConnection streamConnection = (StreamConnection)
        Connector.open(piURL);
        OutputStream os = streamConnection.openOutputStream();
        os.write("1".getBytes());
        os.close();
    }
    
    private void lock() throws Exception 
    {
        StreamConnection streamConnection = (StreamConnection)
        Connector.open(piURL);
        OutputStream os = streamConnection.openOutputStream();
        os.write("0".getBytes());
        os.close();
    }
    
    public void alarm() throws Exception
    {
         StreamConnection streamConnection = (StreamConnection)
         Connector.open(piURL);
         OutputStream os = streamConnection.openOutputStream();
         os.write("2".getBytes());
         os.close();
    }
}
